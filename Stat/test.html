
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<!DOCTYPE html>
<html>
	<head>
		  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	        <title>amCharts examples</title>
	        <link rel="stylesheet" href="style.css" type="text/css">
	        <script src="./amcharts/amcharts.js" type="text/javascript"></script>
	        <script src="./amcharts/pie.js" type="text/javascript"></script> 
	        <script type="text/javascript">
	            var chart;
	            var chartcolumn;
	            var legend;
	            var chartData = [
	                {
	                    "country": "Lithuania",
	                    "value": 260
	                },
	                {
	                    "country": "Ireland",
	                    "value": 201
	                },
	                {
	                    "country": "Germany",
	                    "value": 65
	                },
	                {
	                    "country": "Australia",
	                    "value": 39
	                },
	                {
	                    "country": "UK",
	                    "value": 19
	                },
	                {
	                    "country": "Latvia",
	                    "value": 10
	                }
	            ];

	

	            AmCharts.ready(function () {
	                // PIE CHART
	                chart = new AmCharts.AmPieChart();
	                chart.dataProvider = chartData;
	                chart.titleField = "country";
	                chart.valueField = "value";
	                chart.outlineColor = "#FFFFFF";
	                chart.outlineAlpha = 0.8;
	                chart.outlineThickness = 2;
	                chart.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>";
	                // this makes the chart 3D
	                chart.depth3D = 15;
	                chart.angle = 30;

	                // WRITE
	                chart.write("chartdiv");
	            });

	       
                //REQUE CHOIX FOURNISSEUR ET CHANGEMENT DES DONNEES
                $(document).ready( function() {
                    var $fournisseur = $('#fournisseur');
                    
                 // chargement des régions
                    $.ajax({
                        url: 'france.php',
                        data: 'go', // on envoie $_GET['go']
                        dataType: 'json', // on veut un retour JSON
                        success: function(json) {
                            $.each(json, function(index, value) { // pour chaque noeud JSON
                                // on ajoute l option dans la liste
                                $fournisseur.append('<option value="'+ index +'">'+ value +'</option>');
                            });
                        }
                    });

                    // à la sélection d une région dans la liste
                    $fournisseur.on('change', function() {
                        var val = $(this).val(); // on récupère la valeur de la région
                 
                        if(val != '') {
                            $departements.empty(); // on vide la liste des départements
                             
                            $.ajax({
                                url: 'france.php',
                                data: 'id_fournisseur='+ val, // on envoie $_GET['id_region']
                                dataType: 'json',
                                success: function(json) {
                                    $.each(json, function(index, value) {
                                        $departements.append('<option value="'+ index +'">'+ value +'</option>');
                                    });
                                }
                            });
                        }
                    });
                });

	        </script>
	</head>

	<body>

		<H1> FICHE FOURNISSEUR</H1>
		<form>
			<label> Nom du fournisseur:</label> 
            <select id="fournisseur" name="fournisseur">
                <option value="volvo">Volvo</option>
             </select>
			
            <br>

			<label> Adresse: </label>
			<br>
			<label> Téléphone:</label>
			<br>
			<label> Mail:</label>
		</form>
		<div id="chartdiv" style="width: 100%; height: 400px;"></div>
		<div id="chartcolumn" style="width: 100%; height: 400px;"></div>
	</body>
</html>